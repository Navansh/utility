(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[99],{13252:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/builder",function(){return t(7476)}])},7476:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return B}});var l=t(85893),a=t(6154),i=t(67294),r=t(69077),n=t(72886),d=t(32512),c=t(89583);let o=e=>{let{onImageChange:s}=e,[t,a]=(0,i.useState)(null),r=(0,i.useCallback)(e=>{a(e[0]),s(URL.createObjectURL(e[0])),console.log(e[0])},[]),{getRootProps:n,getInputProps:o,isDragActive:m}=(0,d.uI)({onDrop:r,maxFiles:1,accept:{"image/png":[".png"]}});return(0,l.jsx)(l.Fragment,{children:t?(0,l.jsxs)("div",{className:"rounded-md h-52 border-2 border-dashed border-gray-300 bg-white p-4 flex",children:[(0,l.jsx)("img",{src:URL.createObjectURL(t),className:"object-contain w-[100%] h-[100%]"}),(0,l.jsx)(c.aHS,{className:"cursor-pointer",size:20,onClick:()=>{a(null),s("https://picsum.photos/300/300")}})]}):(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center rounded-md h-52 border-2 border-dashed border-gray-300 bg-white p-4 text-center",...n(),children:[(0,l.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:(0,l.jsx)("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),(0,l.jsxs)("div",{className:"flex text-sm text-gray-600",children:[m?(0,l.jsx)("span",{children:"Drop it!"}):(0,l.jsx)("span",{children:"Upload a file or drag and drop"}),(0,l.jsx)("input",{...o(),id:"file-upload",className:"sr-only"})]})]})})};var m=t(65898);let x=e=>{let{active:s=0,children:t}=e,l=i.Children.toArray(t),[a,r]=(0,i.useState)(s),n=e=>{r(e)};return l.map(e=>(0,i.cloneElement)(e,{active:a,onChange:n}))},h=e=>{let{active:s,children:t,onChange:a}=e,r=i.Children.toArray(t),n=r.length;return(0,l.jsx)("nav",{"aria-label":"Progress",children:(0,l.jsx)("ol",{role:"list",className:"divide-y divide-gray-300 rounded-md border border-gray-300 md:flex md:divide-y-0",children:r.map((e,t)=>(0,i.cloneElement)(e,{active:s,totalSteps:n,onChange:a,stepId:t}))})})},p=e=>{let{stepId:s,children:t,active:a,totalSteps:i,onChange:r}=e,n=a>s,d=a<s,c=a===s;return(0,l.jsxs)("li",{className:"relative md:flex md:flex-1",children:[(0,l.jsx)("div",{onClick:()=>r(s),className:"group flex w-full cursor-pointer items-center",children:(0,l.jsxs)("span",{className:"flex items-center px-3 py-2 text-sm font-medium",children:[(0,l.jsxs)("span",{className:"flex h-6 w-6 shrink-0 items-center justify-center rounded-full ".concat(n?"bg-indigo-600 group-hover:bg-indigo-800":""," ").concat(c?"border-2 border-indigo-600":""," ").concat(d?"border-2 border-gray-300 group-hover:border-gray-400":""),children:[n&&(0,l.jsx)(m.dZ6,{className:"h-4 w-4 text-white","aria-hidden":"true"}),c&&(0,l.jsx)("span",{className:"text-indigo-600",children:s}),d&&(0,l.jsx)("span",{className:"text-gray-500 group-hover:text-gray-900",children:s})]}),(0,l.jsx)("span",{className:"ml-2 text-sm font-medium text-gray-900",children:t})]})}),s!==i-1?(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:"absolute right-0 top-0 hidden h-full w-3 md:block","aria-hidden":"true",children:(0,l.jsx)("svg",{className:"h-full w-full text-gray-300",viewBox:"0 0 22 80",fill:"none",preserveAspectRatio:"none",children:(0,l.jsx)("path",{d:"M0 -2L20 40L0 82",vectorEffect:"non-scaling-stroke",stroke:"currentcolor",strokeLinejoin:"round"})})})}):null]},s)},u=e=>{let{active:s=0,children:t,className:a}=e,r=i.Children.toArray(t),n=r.length;return(0,l.jsx)("div",{className:"m-4 ".concat(a),children:r.map((e,t)=>(0,i.cloneElement)(e,{active:s,totalSteps:n,stepId:t}))})},g=e=>{let{children:s,active:t,stepId:a,className:i}=e;return t===a?(0,l.jsx)("div",{className:"".concat(i),children:s}):null};var j=t(22562);let f=[{id:"template1",name:"Collection name 1",utility:"Utility 1",img:"https://picsum.photos/100/100",claims:500},{id:"template2",name:"Collection name 2",utility:"utility 2",img:"https://picsum.photos/100/100",claims:1e3},{id:"template3",name:"Collection name 3",utility:"utility 3",img:"https://picsum.photos/100/100",claims:1500},{id:"template4",name:"Collection name 4",utility:"utility 4",img:"https://picsum.photos/100/100",claims:2e3},{id:"template5",name:"Collection name 5",utility:"utility 5",img:"https://picsum.photos/100/100",claims:2500},{id:"template6",name:"Collection name 6",utility:"utility 6",img:"https://picsum.photos/100/100",claims:3e3},{id:"template7",name:"Collection name 7",utility:"utility 7",img:"https://picsum.photos/100/100",claims:3500},{id:"template8",name:"Collection name 8",utility:"utility 8",img:"https://picsum.photos/100/100",claims:4e3},{id:"template9",name:"Collection name 9",utility:"utility 9",img:"https://picsum.photos/100/100",claims:4500},{id:"template10",name:"Collection name 10",utility:"utility 10",img:"https://picsum.photos/100/100",claims:5e3}];var b=()=>{let e=e=>{n.V.getState().updateTemplate(e)};return(0,l.jsx)("div",{className:"flex flex-col",children:f.map(s=>(0,l.jsxs)("div",{className:"mb-3 flex cursor-pointer items-center gap-5 rounded-md border border-gray-400 p-4",onClick:()=>e(s),children:[(0,l.jsx)("div",{className:"w-24",children:(0,l.jsx)("img",{className:"rounded-lg",src:s.img,alt:"img"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-xs font-medium",children:s.name}),(0,l.jsx)("h3",{className:"text-2xl font-bold",children:s.utility}),(0,l.jsx)("p",{className:"text-xs font-medium",children:s.claims})]})]},s.id))})},N=()=>(0,l.jsx)("div",{className:"flex flex-col gap-5 ",children:(0,l.jsx)(b,{})}),v=()=>{let e=(0,n.V)(e=>e.collection_list),s=(0,n.V)(e=>e.nft_types),t=(0,n.V)(e=>e.selectedNft),a=(0,n.V)(e=>e.selectedCollection);return(0,l.jsxs)("div",{className:"rounded-md border border-gray-400 bg-white p-5 text-xs",children:[(0,l.jsx)("span",{children:"Community targeting"}),(0,l.jsx)("span",{className:"block",children:"Define which NFT community is eligible to claim your utility"}),(0,l.jsxs)("form",{className:"mt-7 flex flex-col gap-5",children:[(0,l.jsx)("div",{className:"flex flex-col gap-1",children:(0,l.jsx)("div",{className:"relative",children:(0,l.jsx)(j.q4,{value:a,dataSource:e,itemRenderer:e=>e.name,labelRenderer:e=>e.name,onChange:null})})}),(0,l.jsx)("div",{className:"flex flex-col gap-1 z-10",children:(0,l.jsx)(j.Y8,{value:t,dataSource:s,itemRenderer:e=>e.name,onChange:e=>{n.V.getState().setSelectedNft(e)}})})]})]})},y=()=>(0,l.jsx)("div",{className:"flex flex-col gap-5",children:(0,l.jsx)(v,{})}),C=()=>(0,l.jsxs)("div",{className:"rounded-md border border-gray-400 bg-white p-5 text-xs",children:[(0,l.jsxs)("span",{children:["Confirmation message",(0,l.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,l.jsxs)("div",{className:"mt-7 flex flex-col gap-5",children:[(0,l.jsx)("div",{className:"flex flex-col gap-1",children:(0,l.jsx)(j.II,{onChange:e=>{n.V.getState().setConfirmationTitle(e)},placeholder:"Confirmation title",label:"Confirmation title",name:"confirmtitle"})}),(0,l.jsx)("div",{className:"flex flex-col gap-1",children:(0,l.jsx)(j.Kx,{onChange:e=>{n.V.getState().setConfirmationDescriptione(e)},name:"confirmdescription",placeholder:"Confirmation description",label:"Confirmation description"})})]})]}),w=()=>(0,l.jsxs)("div",{className:"rounded-md border border-gray-400 bg-white p-5 text-xs",children:[(0,l.jsxs)("span",{children:["Information",(0,l.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,l.jsxs)("div",{className:"mt-7 flex flex-col gap-5",children:[(0,l.jsx)("div",{className:"flex flex-col gap-1 ",children:(0,l.jsx)(j.II,{placeholder:"Title",label:"Title",name:"title",onChange:e=>{n.V.getState().setTitle(e)}})}),(0,l.jsx)("div",{className:"flex flex-col gap-1",children:(0,l.jsx)(j.Kx,{name:"description",placeholder:"Description",label:"Description",onChange:e=>{n.V.getState().setDescription(e)}})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"mb-1.5",children:"Images"}),(0,l.jsx)(o,{onImageChange:e=>{n.V.getState().setImage(e)}})]})]})]}),S=()=>{let e=(0,n.V)(e=>e.token_types),s=(0,n.V)(e=>e.activeTokenGates);return(0,l.jsxs)("div",{className:"rounded-md border border-gray-400 bg-white p-5 text-xs",children:[(0,l.jsx)("span",{children:"Token gates"}),(0,l.jsx)("span",{className:"block",children:"Experiences that only appear when utility is claimed"}),(0,l.jsxs)("div",{className:"mt-7 flex flex-col gap-5",children:[(0,l.jsx)("div",{className:"relative",children:(0,l.jsx)(j.q4,{value:s,dataSource:e,itemRenderer:e=>e.name,labelRenderer:e=>e.name,onChange:e=>{n.V.getState().setActiveTokenGates(e)}})}),(0,l.jsx)("div",{className:"flex flex-col gap-1",children:(0,l.jsx)(j.Kx,{name:"reveal",placeholder:"Multiple reveal",label:"Multiple reveal"})})]})]})},k=()=>(0,l.jsxs)("div",{className:"flex flex-col gap-5 ",children:[(0,l.jsx)(w,{}),(0,l.jsx)(C,{}),(0,l.jsx)(S,{})]}),T=()=>(0,l.jsx)("div",{className:"rounded-md border border-gray-600 bg-white p-5 text-xs",children:(0,l.jsxs)("div",{className:"flex justify-between gap-x-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-sm font-medium",children:"Maximum claims"}),(0,l.jsx)("p",{className:"mt-1.5 text-[10px] font-normal",children:"Limit the number of available claims for your utility"})]}),(0,l.jsx)(j.II,{name:"claims",onChange:e=>{n.V.getState().setMaxClaims(e)}})]})}),V=()=>(0,l.jsxs)("div",{className:"rounded-md border border-gray-400 bg-white p-5 text-xs",children:[(0,l.jsxs)("span",{children:["Schedule",(0,l.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,l.jsx)("span",{className:"block",children:"Choose when your utility will start and end"}),(0,l.jsxs)("form",{className:"mt-7 flex flex-col gap-5",children:[(0,l.jsx)("div",{className:"flex flex-col gap-1",children:(0,l.jsx)(j.II,{onChange:e=>{n.V.getState().setStartDate(e)},type:"date",placeholder:"Start date",label:"Start date",name:"startdate"})}),(0,l.jsx)("div",{className:"flex flex-col gap-1",children:(0,l.jsx)(j.II,{onChange:e=>{n.V.getState().setEndDate(e)},type:"date",placeholder:"End date",label:"End date",name:"enddate"})})]})]}),D=()=>{let e=(0,n.V)(e=>e.tagList),[s,t]=(0,i.useState)([]);return(0,i.useEffect)(()=>{n.V.getState().setTags(s)},[s]),(0,l.jsx)("div",{className:"rounded-md border border-gray-400 bg-white p-5 text-xs",children:(0,l.jsx)("div",{className:"flex flex-col gap-5",children:(0,l.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,l.jsxs)("label",{children:["Tags"," ",(0,l.jsx)("span",{className:"block text-gray-500",children:"Add up to 3 tags to make your utility discoverable on Tropee"})]}),(0,l.jsx)("div",{className:"mt-6 flex items-center gap-3",onClick:e=>{var l;let a=null===(l=e.target.attributes["data-tagname"])||void 0===l?void 0:l.value;console.info("===>Tags",a),s.includes(a)?t(e=>e.filter(e=>e!==a)):t(e=>[...e,a])},children:e.map((e,t)=>(0,l.jsx)("div",{"data-tagname":e,className:"cursor-pointer rounded border border-gray-400 px-3 py-1.5 ".concat(s.includes(e)?"bg-indigo-700 text-white":""),children:e},t))})]})})})},R=()=>(0,l.jsxs)("div",{className:"mt-5 flex flex-col gap-5",children:[(0,l.jsxs)("span",{children:[(0,l.jsx)("span",{className:"text-red-600",children:"*"}),"Required fields"]}),(0,l.jsx)(V,{}),(0,l.jsx)(T,{}),(0,l.jsx)(D,{})]}),I=()=>(0,l.jsx)("section",{className:"h-screen bg-indigo-50",children:(0,l.jsxs)("div",{className:"flex h-full flex-wrap gap-8 px-5 pt-20 lg:flex-nowrap",children:[(0,l.jsx)("div",{className:"w-fit shrink-0 grow-0 overflow-y-auto",children:(0,l.jsx)("div",{className:"rounded-2x bg-white pb-px",children:(0,l.jsxs)(x,{active:0,children:[(0,l.jsxs)(h,{children:[(0,l.jsx)(p,{children:"Templates"}),(0,l.jsx)(p,{children:"Utility"}),(0,l.jsx)(p,{children:"Requirements"}),(0,l.jsx)(p,{children:"Settings"})]}),(0,l.jsxs)(u,{children:[(0,l.jsx)(g,{children:(0,l.jsx)(N,{})}),(0,l.jsx)(g,{children:(0,l.jsx)(k,{})}),(0,l.jsx)(g,{children:(0,l.jsx)(y,{})}),(0,l.jsx)(g,{children:(0,l.jsx)(R,{})})]})]})})}),(0,l.jsxs)("div",{className:"grow",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between border-b pb-2.5",children:[(0,l.jsx)("h3",{className:"ml-5 text-2xl font-semibold",children:"Allowlist"}),(0,l.jsxs)("div",{className:"flex gap-8",children:[(0,l.jsx)(j.zx,{type:"SECONDARY",onClick:()=>n.V.getState().publishUtility(),children:"Publish"}),(0,l.jsx)(j.zx,{type:"PRIMARY",onClick:()=>n.V.getState().saveDraft(),children:"Save Draft"})]})]}),(0,l.jsx)(L,{})]})]})});let E=()=>{let e=new Date,s=e.toLocaleString("default",{month:"long"}),t=e.getFullYear();return(0,l.jsxs)(l.Fragment,{children:[s," ",t]})},L=()=>{let[e,s]=(0,i.useState)(!1),{address:t}=(0,r.mA)(),{title:a,description:d,image:c,maxClaims:o,selectedCollection:m,confirmationTitle:x,confirmationDescription:h}=(0,n.V)(e=>({title:e.title,description:e.description,maxClaims:e.maxClaims,confirmationTitle:e.confirmationTitle,selectedCollection:e.selectedCollection,confirmationDescription:e.confirmationDescription,image:e.image}));return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"mt-2.5 rounded-3xl border-2 border-gray-400 bg-white p-5 pb-3 md:p-10 md:pb-5",children:[(0,l.jsxs)("div",{className:"flex flex-wrap items-center justify-center gap-8 lg:flex-nowrap",children:[(0,l.jsx)("img",{src:c,alt:"",width:"300px",height:"300px",className:"max-h-80 rounded-2xl object-cover"}),(0,l.jsxs)("div",{className:"grow",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsxs)("p",{children:["By"," ",(0,l.jsx)("span",{className:"text-indigo-500",children:"".concat(t.slice(0,4),"...").concat(t.slice(-5,-1))})]}),(0,l.jsx)("div",{children:"share | more"})]}),(0,l.jsx)("h3",{className:"primary-gradient-text text-3xl font-bold",children:a}),(0,l.jsx)("p",{className:"primary-gradient-text text-xl font-bold"}),(0,l.jsxs)("div",{className:"flex gap-4 border-b border-gray-300 pb-2.5",children:[(0,l.jsxs)("p",{children:["Created"," ",(0,l.jsx)("span",{children:(0,l.jsx)(E,{})})]}),(0,l.jsxs)("p",{children:["Claims 0/",o]})]}),(0,l.jsxs)("div",{className:"mt-5 rounded-xl border border-gray-300 bg-indigo-50 px-3 py-2.5",children:[(0,l.jsx)("h3",{className:"mb-3 text-lg font-medium",children:"How to participate"}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("p",{className:"pb-1.5 text-base font-normal",children:["Be a community member of"," "]}),(0,l.jsx)("div",{className:"flex rounded border border-gray-300 bg-white/30 px-3 py-2",children:(0,l.jsx)("p",{className:"text-lg font-semibold text-[#5DADF7]",children:(null==m?void 0:m.name)&&(null==m?void 0:m.name)})}),(0,l.jsx)("span",{className:"text-xs font-normal",children:"Have atleast 1 NFT from the collection"})]})]}),(0,l.jsxs)("div",{className:"mt-3 rounded-xl border border-gray-300 px-3 py-2.5",children:[(0,l.jsx)("h3",{className:"mb-2 text-lg font-medium",children:"Claim Now to"}),(0,l.jsx)("div",{children:(0,l.jsx)("div",{className:"flex rounded border border-white bg-white/30 px-3 py-2",children:(0,l.jsx)("p",{className:"text-lg font-semibold text-[#5DADF7]",children:d})})})]})]})]}),(0,l.jsxs)("div",{className:"mt-4",children:[(0,l.jsx)("div",{className:"mb-3 text-center",children:(0,l.jsx)("p",{className:"text-xs font-medium",children:"Time left 29d 17h 16m 58s"})}),(0,l.jsx)("div",{className:"flex items-center gap-5",children:(0,l.jsx)(j.zx,{type:"BRAND_PRIMARY",rounded:"LARGE",className:"w-full",onClick:()=>{},children:"Share on Twitter"})})]})]})})};var _=()=>{let[e,s]=(0,i.useState)([{id:1,name:"Template",href:"#",status:"complete"},{id:2,name:"Utility",href:"#",status:"current"},{id:3,name:"Requirement",href:"#",status:"upcoming"},{id:4,name:"Settings",href:"#",status:"upcoming"}]),[t,a]=(0,i.useState)({id:"",name:"",claims:""});return(0,l.jsx)(I,{steps:e,setSteps:s,utility:t,setUtility:a})},A=t(15736),U=t(6036),F=t(83454);let M=()=>{let{address:e,isConnected:s}=(0,r.mA)();return(0,i.useEffect)(()=>{e&&a.Z.get("".concat(F.env.NEXT_PUBLIC_BACKEND_URL,"/users/nfts"),{params:{owner:e}}).then(e=>{console.log(e.data.result),n.V.getState().setCollectionList(e.data.result),0!==e.data.result.length&&n.V.getState().setCollection(e.data.result[0])})},[s]),(0,l.jsx)(_,{})};M.getLayout=e=>(0,l.jsx)(A.Z,{meta:(0,l.jsx)(U.Z,{title:"Builder",description:"Give life to your NFTs in three steps"}),children:e});var B=M}},function(e){e.O(0,[2013,6914,5445,4941,2052,8016,1315,9774,2888,179],function(){return e(e.s=13252)}),_N_E=e.O()}]);